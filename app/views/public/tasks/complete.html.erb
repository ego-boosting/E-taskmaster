  <div class="container">
    <div class="d-flex">
      <h3 class="basic">
        タスク<ruby>完了一覧<rp>(</rp><rt>かんりょういちらん</rt><rp>)</rp></ruby>
      </h3>
    </div>
    <div class="text-right"><%= link_to "タスク投稿", new_task_path, class: "btn btn-outline-success bg-warning mt-2 mb-2 float" %></div>
  </div>
  <div class="container mt-4">
    <div class="jscroll">
      <div class="row">
        <% @tasks.each do |task| %>
        <div class="col-md-4 mb-5">
          <div class="card task-card">
            <div class="card-body float">
              <h6 class="ard-subtitle text-muted"><%= task.title %></h6>
              <h5 class="card-title mb-2"><%= task.starts_at.strftime("%Y年%m月%d日") %></h5>
              <p class="card-text"><%= task.ends_at.strftime("%Y年%m月%d日") %></p>
            </div>
          </div>
        </div>
        <% end %>
      </div>
    <%= paginate @tasks %>
    </div>
  </div>



   <!-- ファイル末尾に以下を追記(application.jsに書いてもOK) -->
  <script>
 $(window).on('scroll', function() {
   scrollHeight = $(document).height();
   scrollPosition = $(window).height() + $(window).scrollTop();
   if((scrollHeight - scrollPosition) / scrollHeight <= 0.05){
    $('.jscroll').jscroll({ // 追加したdivのclass名と合わせる
      contentSelector: '.jscroll',
      nextSelector: 'a[rel="next"]',  // 次ページリンクのセレクタ
      loadingHtml: '読み込み中',
      padding: 10
    });
   }
  });
  </script>